<!DOCTYPE html>
<html lang="en">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta charset="utf-8">
<meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<title>Chapter 7 Saving the resulting image | ggkegg</title>
<meta name="author" content="Noriaki Sato">
<meta name="generator" content="bookdown 0.40 with bs4_book()">
<meta property="og:title" content="Chapter 7 Saving the resulting image | ggkegg">
<meta property="og:type" content="book">
<meta name="twitter:card" content="summary">
<meta name="twitter:title" content="Chapter 7 Saving the resulting image | ggkegg">
<!-- JS --><script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.6/clipboard.min.js" integrity="sha256-inc5kl9MA1hkeYUt+EC3BhlIgyp/2jDIyBLS6k3UxPI=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/fuse.js/6.4.6/fuse.js" integrity="sha512-zv6Ywkjyktsohkbp9bb45V6tEMoWhzFzXis+LrMehmJZZSys19Yxf1dopHx7WzIKxr5tK2dVcYmaCk2uqdjF4A==" crossorigin="anonymous"></script><script src="https://kit.fontawesome.com/6ecbd6c532.js" crossorigin="anonymous"></script><script src="libs/jquery-3.6.0/jquery-3.6.0.min.js"></script><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<link href="libs/bootstrap-4.6.0/bootstrap.min.css" rel="stylesheet">
<script src="libs/bootstrap-4.6.0/bootstrap.bundle.min.js"></script><script src="libs/bs3compat-0.7.0/transition.js"></script><script src="libs/bs3compat-0.7.0/tabs.js"></script><script src="libs/bs3compat-0.7.0/bs3compat.js"></script><link href="libs/bs4_book-1.0.0/bs4_book.css" rel="stylesheet">
<script src="libs/bs4_book-1.0.0/bs4_book.js"></script><!-- Google tag (gtag.js) --><script async src="https://www.googletagmanager.com/gtag/js?id=G-J7N3J5H0G4"></script><script>
      window.dataLayer = window.dataLayer || [];
      function gtag(){dataLayer.push(arguments);}
      gtag('js', new Date());

      gtag('config', 'G-J7N3J5H0G4');
    </script><script src="https://cdnjs.cloudflare.com/ajax/libs/autocomplete.js/0.38.0/autocomplete.jquery.min.js" integrity="sha512-GU9ayf+66Xx2TmpxqJpliWbT5PiGYxpaG8rfnBEk1LL8l1KGkRShhngwdXK1UgqhAzWpZHSiYPc09/NwDQIGyg==" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mark.js/8.11.1/mark.min.js" integrity="sha512-5CYOlHXGh6QpOFA/TeTylKLWfB3ftPsde7AnmhuitiTX4K5SqCLBeKro6sPS8ilsz1Q4NRx3v8Ko2IBiszzdww==" crossorigin="anonymous"></script><!-- CSS --><style type="text/css">
    
    div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
  </style>
<link rel="stylesheet" href="style.css">
<meta name="description" content="7.1 ggkeggsave ggkegg uses the annotation_raster for overlaying the original KEGG image. This section describes how one can save the resulting custom plot for the publication. The ggkeggsave...">
<meta property="og:description" content="7.1 ggkeggsave ggkegg uses the annotation_raster for overlaying the original KEGG image. This section describes how one can save the resulting custom plot for the publication. The ggkeggsave...">
<meta name="twitter:description" content="7.1 ggkeggsave ggkegg uses the annotation_raster for overlaying the original KEGG image. This section describes how one can save the resulting custom plot for the publication. The ggkeggsave...">
</head>
<body data-spy="scroll" data-target="#toc">

<div class="container-fluid">
<div class="row">
  <header class="col-sm-12 col-lg-3 sidebar sidebar-book"><a class="sr-only sr-only-focusable" href="#content">Skip to main content</a>

    <div class="d-flex align-items-start justify-content-between">
      <h1>
        <a href="index.html" title="">ggkegg</a>
      </h1>
      <button class="btn btn-outline-primary d-lg-none ml-2 mt-1" type="button" data-toggle="collapse" data-target="#main-nav" aria-expanded="true" aria-controls="main-nav"><i class="fas fa-bars"></i><span class="sr-only">Show table of contents</span></button>
    </div>

    <div id="main-nav" class="collapse-lg">
      <form role="search">
        <input id="search" class="form-control" type="search" placeholder="Search" aria-label="Search">
</form>

      <nav aria-label="Table of contents"><h2>Table of contents</h2>
        <ul class="book-toc list-unstyled">
<li><a class="" href="index.html"><span class="header-section-number">1</span> About</a></li>
<li><a class="" href="pathway.html"><span class="header-section-number">2</span> Pathway</a></li>
<li><a class="" href="module.html"><span class="header-section-number">3</span> Module</a></li>
<li><a class="" href="network.html"><span class="header-section-number">4</span> Network</a></li>
<li><a class="" href="usecases.html"><span class="header-section-number">5</span> Usecases</a></li>
<li><a class="" href="notes.html"><span class="header-section-number">6</span> Notes</a></li>
<li><a class="active" href="saving-the-resulting-image.html"><span class="header-section-number">7</span> Saving the resulting image</a></li>
<li><a class="" href="analysis-of-gsea-results.html"><span class="header-section-number">8</span> Analysis of GSEA results</a></li>
</ul>

        <div class="book-extra">
          
        </div>
      </nav>
</div>
  </header><main class="col-sm-12 col-md-9 col-lg-7" id="content"><div id="saving-the-resulting-image" class="section level1" number="7">
<h1>
<span class="header-section-number">7</span> Saving the resulting image<a class="anchor" aria-label="anchor" href="#saving-the-resulting-image"><i class="fas fa-link"></i></a>
</h1>
<div id="ggkeggsave" class="section level2" number="7.1">
<h2>
<span class="header-section-number">7.1</span> <code>ggkeggsave</code><a class="anchor" aria-label="anchor" href="#ggkeggsave"><i class="fas fa-link"></i></a>
</h2>
<p><code>ggkegg</code> uses the <code>annotation_raster</code> for overlaying the original KEGG image.
This section describes how one can save the resulting custom plot for the publication.
The <code>ggkeggsave</code> function is prepared, which respects the original dimension of the image.
The function is intended for the ggplot with the <code>overlay_raw_map</code> layer.
On <code>overlay_raw_map</code>, one can control whether the interpolation is performed by <code>interpolate</code> option.
In some instances, <code>interpolate=TRUE</code> makes blurry images, and please try to disable the interpolation in that case.</p>
<div class="sourceCode" id="cb99"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="kw"><a href="https://rdrr.io/r/base/library.html">library</a></span><span class="op">(</span><span class="va"><a href="https://github.com/noriakis/ggkegg">ggkegg</a></span><span class="op">)</span></span>
<span><span class="kw"><a href="https://rdrr.io/r/base/library.html">library</a></span><span class="op">(</span><span class="va"><a href="https://github.com/teunbrand/ggh4x">ggh4x</a></span><span class="op">)</span></span>
<span><span class="va">g</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/pkg/ggkegg/man/pathway.html">pathway</a></span><span class="op">(</span><span class="st">"hsa04130"</span><span class="op">)</span></span>
<span><span class="va">gg</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://ggraph.data-imaginist.com/reference/ggraph.html">ggraph</a></span><span class="op">(</span><span class="va">g</span>, layout<span class="op">=</span><span class="st">"manual"</span>, x<span class="op">=</span><span class="va">x</span>, y<span class="op">=</span><span class="va">y</span><span class="op">)</span><span class="op">+</span></span>
<span>    <span class="fu"><a href="https://rdrr.io/pkg/ggkegg/man/geom_node_rect.html">geom_node_rect</a></span><span class="op">(</span><span class="fu"><a href="https://ggplot2.tidyverse.org/reference/aes.html">aes</a></span><span class="op">(</span>fill1<span class="op">=</span><span class="va">x</span>, filter<span class="op">=</span><span class="va">type</span><span class="op">==</span><span class="st">"gene"</span><span class="op">)</span><span class="op">)</span><span class="op">+</span></span>
<span>    <span class="fu"><a href="https://rdrr.io/pkg/ggkegg/man/geom_node_rect.html">geom_node_rect</a></span><span class="op">(</span><span class="fu"><a href="https://ggplot2.tidyverse.org/reference/aes.html">aes</a></span><span class="op">(</span>fill2<span class="op">=</span><span class="va">y</span>, xmin<span class="op">=</span><span class="va">xmin</span><span class="op">+</span><span class="va">width</span><span class="op">/</span><span class="fl">2</span>, filter<span class="op">=</span><span class="va">type</span><span class="op">==</span><span class="st">"gene"</span><span class="op">)</span><span class="op">)</span><span class="op">+</span></span>
<span>    <span class="fu"><a href="https://teunbrand.github.io/ggh4x/reference/scale_fill_multi.html">scale_fill_multi</a></span><span class="op">(</span>aesthetics <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span><span class="op">(</span><span class="st">"fill1"</span>, <span class="st">"fill2"</span><span class="op">)</span>,</span>
<span>        name <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/list.html">list</a></span><span class="op">(</span><span class="st">"Condition1"</span>, <span class="st">"Condition2"</span><span class="op">)</span>,</span>
<span>        colours <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/list.html">list</a></span><span class="op">(</span></span>
<span>            <span class="fu">scales</span><span class="fu">::</span><span class="fu"><a href="https://scales.r-lib.org/reference/pal_brewer.html">brewer_pal</a></span><span class="op">(</span>palette <span class="op">=</span> <span class="st">"RdBu"</span><span class="op">)</span><span class="op">(</span><span class="fl">6</span><span class="op">)</span>,</span>
<span>            <span class="fu">scales</span><span class="fu">::</span><span class="fu"><a href="https://scales.r-lib.org/reference/pal_brewer.html">brewer_pal</a></span><span class="op">(</span>palette <span class="op">=</span> <span class="st">"RdPu"</span><span class="op">)</span><span class="op">(</span><span class="fl">6</span><span class="op">)</span><span class="op">)</span>,</span>
<span>            guide <span class="op">=</span> <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/guide_colourbar.html">guide_colorbar</a></span><span class="op">(</span>barheight <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/grid/unit.html">unit</a></span><span class="op">(</span><span class="fl">50</span>, <span class="st">"pt"</span><span class="op">)</span><span class="op">)</span><span class="op">)</span><span class="op">+</span></span>
<span>    <span class="fu"><a href="https://rdrr.io/pkg/ggkegg/man/overlay_raw_map.html">overlay_raw_map</a></span><span class="op">(</span><span class="op">)</span><span class="op">+</span></span>
<span>    <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/ggtheme.html">theme_void</a></span><span class="op">(</span><span class="op">)</span></span>
<span><span class="fu"><a href="https://rdrr.io/pkg/ggkegg/man/ggkeggsave.html">ggkeggsave</a></span><span class="op">(</span><span class="st">"test1.png"</span>, <span class="va">gg</span><span class="op">)</span></span>
<span><span class="fu">knitr</span><span class="fu">::</span><span class="fu"><a href="https://rdrr.io/pkg/knitr/man/include_graphics.html">include_graphics</a></span><span class="op">(</span><span class="st">"test1.png"</span><span class="op">)</span></span></code></pre></div>
<div class="inline-figure"><img src="test1.png" width="100%" style="display: block; margin: auto;"></div>
</div>
<div id="output_overlay_image" class="section level2" number="7.2">
<h2>
<span class="header-section-number">7.2</span> <code>output_overlay_image</code><a class="anchor" aria-label="anchor" href="#output_overlay_image"><i class="fas fa-link"></i></a>
</h2>
<p>If one wants to keep the original resolution of the image, <code>output_overlay_image</code> function can be used.
This combines the image from ggplot layers and the original PNG image (and optionally legend image) and outputs it.
This extracts the main panel from ggplot objecy by gtable functions, and thus the legend, title, axis and the other elements outside the main panel is omitted for aligning the node position with the original image. The legend can be placed inside the plot by the theme like <code>theme(legend.position=c(0.5, 0.5))</code>, or <code>with_legend_image=TRUE</code> can be specified to additionaly concatenate the legend image.</p>
<p>The examples follow:</p>
<p>The legend insides the main panel.</p>
<div class="sourceCode" id="cb100"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">g</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/pkg/ggkegg/man/pathway.html">pathway</a></span><span class="op">(</span><span class="st">"hsa04130"</span><span class="op">)</span></span>
<span><span class="va">gg</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://ggraph.data-imaginist.com/reference/ggraph.html">ggraph</a></span><span class="op">(</span><span class="va">g</span>, layout<span class="op">=</span><span class="st">"manual"</span>, x<span class="op">=</span><span class="va">x</span>, y<span class="op">=</span><span class="va">y</span><span class="op">)</span><span class="op">+</span></span>
<span>    <span class="fu"><a href="https://rdrr.io/pkg/ggkegg/man/geom_node_rect.html">geom_node_rect</a></span><span class="op">(</span><span class="fu"><a href="https://ggplot2.tidyverse.org/reference/aes.html">aes</a></span><span class="op">(</span>fill<span class="op">=</span><span class="va">x</span>, filter<span class="op">=</span><span class="va">type</span><span class="op">==</span><span class="st">"gene"</span><span class="op">)</span><span class="op">)</span><span class="op">+</span></span>
<span>    <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/ggtheme.html">theme_void</a></span><span class="op">(</span><span class="op">)</span><span class="op">+</span></span>
<span>    <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/theme.html">theme</a></span><span class="op">(</span>legend.position<span class="op">=</span><span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span><span class="op">(</span><span class="fl">0.9</span>, <span class="fl">0.2</span><span class="op">)</span><span class="op">)</span></span>
<span><span class="fu"><a href="https://rdrr.io/pkg/ggkegg/man/output_overlay_image.html">output_overlay_image</a></span><span class="op">(</span><span class="va">gg</span>, use_cache<span class="op">=</span><span class="cn">TRUE</span>, with_legend<span class="op">=</span><span class="cn">TRUE</span>,  out<span class="op">=</span><span class="st">"test2.png"</span><span class="op">)</span></span>
<span><span class="co">#&gt; [1] "test2.png"</span></span></code></pre></div>
<div class="sourceCode" id="cb101"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu">knitr</span><span class="fu">::</span><span class="fu"><a href="https://rdrr.io/pkg/knitr/man/include_graphics.html">include_graphics</a></span><span class="op">(</span><span class="st">"test2.png"</span><span class="op">)</span></span></code></pre></div>
<div class="inline-figure"><img src="test2.png" width="100%" style="display: block; margin: auto;"></div>
<p>The legend outside the main panel (<code>with_legend_image=TRUE</code>).</p>
<div class="sourceCode" id="cb102"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">g</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/pkg/ggkegg/man/pathway.html">pathway</a></span><span class="op">(</span><span class="st">"hsa04130"</span><span class="op">)</span></span>
<span><span class="va">gg</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://ggraph.data-imaginist.com/reference/ggraph.html">ggraph</a></span><span class="op">(</span><span class="va">g</span>, layout<span class="op">=</span><span class="st">"manual"</span>, x<span class="op">=</span><span class="va">x</span>, y<span class="op">=</span><span class="va">y</span><span class="op">)</span><span class="op">+</span></span>
<span>    <span class="fu"><a href="https://rdrr.io/pkg/ggkegg/man/geom_node_rect.html">geom_node_rect</a></span><span class="op">(</span><span class="fu"><a href="https://ggplot2.tidyverse.org/reference/aes.html">aes</a></span><span class="op">(</span>fill1<span class="op">=</span><span class="va">x</span>, filter<span class="op">=</span><span class="va">type</span><span class="op">==</span><span class="st">"gene"</span><span class="op">)</span><span class="op">)</span><span class="op">+</span></span>
<span>    <span class="fu"><a href="https://rdrr.io/pkg/ggkegg/man/geom_node_rect.html">geom_node_rect</a></span><span class="op">(</span><span class="fu"><a href="https://ggplot2.tidyverse.org/reference/aes.html">aes</a></span><span class="op">(</span>fill2<span class="op">=</span><span class="va">y</span>, xmin<span class="op">=</span><span class="va">xmin</span><span class="op">+</span><span class="va">width</span><span class="op">/</span><span class="fl">2</span>, filter<span class="op">=</span><span class="va">type</span><span class="op">==</span><span class="st">"gene"</span><span class="op">)</span><span class="op">)</span><span class="op">+</span></span>
<span>    <span class="fu"><a href="https://teunbrand.github.io/ggh4x/reference/scale_fill_multi.html">scale_fill_multi</a></span><span class="op">(</span>aesthetics <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span><span class="op">(</span><span class="st">"fill1"</span>, <span class="st">"fill2"</span><span class="op">)</span>,</span>
<span>        name <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/list.html">list</a></span><span class="op">(</span><span class="st">"Condition1"</span>, <span class="st">"Condition2"</span><span class="op">)</span>,</span>
<span>        colours <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/list.html">list</a></span><span class="op">(</span></span>
<span>            <span class="fu">scales</span><span class="fu">::</span><span class="fu"><a href="https://scales.r-lib.org/reference/pal_brewer.html">brewer_pal</a></span><span class="op">(</span>palette <span class="op">=</span> <span class="st">"RdBu"</span><span class="op">)</span><span class="op">(</span><span class="fl">6</span><span class="op">)</span>,</span>
<span>            <span class="fu">scales</span><span class="fu">::</span><span class="fu"><a href="https://scales.r-lib.org/reference/pal_brewer.html">brewer_pal</a></span><span class="op">(</span>palette <span class="op">=</span> <span class="st">"RdPu"</span><span class="op">)</span><span class="op">(</span><span class="fl">6</span><span class="op">)</span><span class="op">)</span>,</span>
<span>            guide <span class="op">=</span> <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/guide_colourbar.html">guide_colorbar</a></span><span class="op">(</span>barheight <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/grid/unit.html">unit</a></span><span class="op">(</span><span class="fl">50</span>, <span class="st">"pt"</span><span class="op">)</span><span class="op">)</span><span class="op">)</span><span class="op">+</span></span>
<span>    <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/ggtheme.html">theme_void</a></span><span class="op">(</span><span class="op">)</span></span>
<span><span class="fu"><a href="https://rdrr.io/pkg/ggkegg/man/output_overlay_image.html">output_overlay_image</a></span><span class="op">(</span><span class="va">gg</span>, use_cache<span class="op">=</span><span class="cn">TRUE</span>, with_legend_image<span class="op">=</span><span class="cn">TRUE</span>, out<span class="op">=</span><span class="st">"test3.png"</span><span class="op">)</span></span>
<span><span class="co">#&gt; [1] "test3.png"</span></span></code></pre></div>
<div class="sourceCode" id="cb103"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu">knitr</span><span class="fu">::</span><span class="fu"><a href="https://rdrr.io/pkg/knitr/man/include_graphics.html">include_graphics</a></span><span class="op">(</span><span class="st">"test3.png"</span><span class="op">)</span></span></code></pre></div>
<div class="inline-figure"><img src="test3.png" width="100%" style="display: block; margin: auto;"></div>
<p>Using high resolution (2x) images (should multiply the x* and y* positions, and adjust high <code>res</code> parameter and <code>legend_space</code> parameters in <code>output_overlay_image</code>):</p>
<div class="sourceCode" id="cb104"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">g</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/pkg/ggkegg/man/pathway.html">pathway</a></span><span class="op">(</span><span class="st">"hsa04130"</span><span class="op">)</span></span>
<span><span class="va">gg</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://ggraph.data-imaginist.com/reference/ggraph.html">ggraph</a></span><span class="op">(</span><span class="va">g</span>, layout<span class="op">=</span><span class="st">"manual"</span>, x<span class="op">=</span><span class="va">x</span>, y<span class="op">=</span><span class="va">y</span><span class="op">)</span><span class="op">+</span></span>
<span>    <span class="fu"><a href="https://rdrr.io/pkg/ggkegg/man/geom_node_rect.html">geom_node_rect</a></span><span class="op">(</span><span class="fu"><a href="https://ggplot2.tidyverse.org/reference/aes.html">aes</a></span><span class="op">(</span>fill1<span class="op">=</span><span class="va">x</span>, xmin<span class="op">=</span><span class="va">xmin</span><span class="op">*</span><span class="fl">2</span>, xmax<span class="op">=</span><span class="va">xmax</span><span class="op">*</span><span class="fl">2</span>, ymin<span class="op">=</span><span class="va">ymin</span><span class="op">*</span><span class="fl">2</span>, ymax<span class="op">=</span><span class="va">ymax</span><span class="op">*</span><span class="fl">2</span>, filter<span class="op">=</span><span class="va">type</span><span class="op">==</span><span class="st">"gene"</span><span class="op">)</span><span class="op">)</span><span class="op">+</span></span>
<span>    <span class="fu"><a href="https://rdrr.io/pkg/ggkegg/man/geom_node_rect.html">geom_node_rect</a></span><span class="op">(</span><span class="fu"><a href="https://ggplot2.tidyverse.org/reference/aes.html">aes</a></span><span class="op">(</span>fill2<span class="op">=</span><span class="va">y</span>, xmin<span class="op">=</span><span class="va">xmin</span><span class="op">*</span><span class="fl">2</span><span class="op">+</span><span class="va">width</span>, xmax<span class="op">=</span><span class="va">xmax</span><span class="op">*</span><span class="fl">2</span>, ymin<span class="op">=</span><span class="va">ymin</span><span class="op">*</span><span class="fl">2</span>, ymax<span class="op">=</span><span class="va">ymax</span><span class="op">*</span><span class="fl">2</span>, filter<span class="op">=</span><span class="va">type</span><span class="op">==</span><span class="st">"gene"</span><span class="op">)</span><span class="op">)</span><span class="op">+</span></span>
<span>    <span class="fu"><a href="https://teunbrand.github.io/ggh4x/reference/scale_fill_multi.html">scale_fill_multi</a></span><span class="op">(</span>aesthetics <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span><span class="op">(</span><span class="st">"fill1"</span>, <span class="st">"fill2"</span><span class="op">)</span>,</span>
<span>        name <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/list.html">list</a></span><span class="op">(</span><span class="st">"Condition1"</span>, <span class="st">"Condition2"</span><span class="op">)</span>,</span>
<span>        colours <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/list.html">list</a></span><span class="op">(</span></span>
<span>            <span class="fu">scales</span><span class="fu">::</span><span class="fu"><a href="https://scales.r-lib.org/reference/pal_brewer.html">brewer_pal</a></span><span class="op">(</span>palette <span class="op">=</span> <span class="st">"RdBu"</span><span class="op">)</span><span class="op">(</span><span class="fl">6</span><span class="op">)</span>,</span>
<span>            <span class="fu">scales</span><span class="fu">::</span><span class="fu"><a href="https://scales.r-lib.org/reference/pal_brewer.html">brewer_pal</a></span><span class="op">(</span>palette <span class="op">=</span> <span class="st">"RdPu"</span><span class="op">)</span><span class="op">(</span><span class="fl">6</span><span class="op">)</span><span class="op">)</span>,</span>
<span>            guide <span class="op">=</span> <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/guide_colourbar.html">guide_colorbar</a></span><span class="op">(</span>barheight <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/grid/unit.html">unit</a></span><span class="op">(</span><span class="fl">50</span>, <span class="st">"pt"</span><span class="op">)</span><span class="op">)</span><span class="op">)</span><span class="op">+</span></span>
<span>    <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/ggtheme.html">theme_void</a></span><span class="op">(</span><span class="op">)</span></span>
<span><span class="fu"><a href="https://rdrr.io/pkg/ggkegg/man/output_overlay_image.html">output_overlay_image</a></span><span class="op">(</span><span class="va">gg</span>, high_res<span class="op">=</span><span class="cn">TRUE</span>, use_cache<span class="op">=</span><span class="cn">TRUE</span>, with_legend_image<span class="op">=</span><span class="cn">TRUE</span>,</span>
<span>    res<span class="op">=</span><span class="fl">100</span>, legend_space<span class="op">=</span><span class="fl">100</span>,</span>
<span>    out<span class="op">=</span><span class="st">"test4.png"</span><span class="op">)</span></span>
<span><span class="co">#&gt; [1] "test4.png"</span></span></code></pre></div>
<div class="sourceCode" id="cb105"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu">knitr</span><span class="fu">::</span><span class="fu"><a href="https://rdrr.io/pkg/knitr/man/include_graphics.html">include_graphics</a></span><span class="op">(</span><span class="st">"test4.png"</span><span class="op">)</span></span></code></pre></div>
<div class="inline-figure"><img src="test4.png" width="100%" style="display: block; margin: auto;"></div>
<p>This makes sure the original image resolution is preserved.</p>

</div>
</div>
  <div class="chapter-nav">
<div class="prev"><a href="notes.html"><span class="header-section-number">6</span> Notes</a></div>
<div class="next"><a href="analysis-of-gsea-results.html"><span class="header-section-number">8</span> Analysis of GSEA results</a></div>
</div></main><div class="col-md-3 col-lg-2 d-none d-md-block sidebar sidebar-chapter">
    <nav id="toc" data-toggle="toc" aria-label="On this page"><h2>On this page</h2>
      <ul class="nav navbar-nav">
<li><a class="nav-link" href="#saving-the-resulting-image"><span class="header-section-number">7</span> Saving the resulting image</a></li>
<li><a class="nav-link" href="#ggkeggsave"><span class="header-section-number">7.1</span> ggkeggsave</a></li>
<li><a class="nav-link" href="#output_overlay_image"><span class="header-section-number">7.2</span> output_overlay_image</a></li>
</ul>

      <div class="book-extra">
        <ul class="list-unstyled">
          
        </ul>
</div>
    </nav>
</div>

</div>
</div> <!-- .container -->

<footer class="bg-primary text-light mt-5"><div class="container"><div class="row">

  <div class="col-12 col-md-6 mt-3">
    <p>"<strong>ggkegg</strong>" was written by Noriaki Sato. It was last built on 2024-08-20.</p>
  </div>

  <div class="col-12 col-md-6 mt-3">
    <p>This book was built by the <a class="text-light" href="https://bookdown.org">bookdown</a> R package.</p>
  </div>

</div></div>
</footer>
</body>
</html>
